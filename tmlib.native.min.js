tm.native=tm.native||{},tm.native.isNative=function(){/piyokawa/i.test(navigator.userAgent);return function(){}}(),function(){if(tm.native.isNative()){var a=function(a){return NativeAudio(a)};tm.asset.Loader.register("wav",a),tm.asset.Loader.register("mp3",a),tm.asset.Loader.register("m4a",a),tm.asset.Loader.register("ogg",a),tm.define("NativeAudio",{superClass:"tm.event.EventDispatcher",src:"",loaded:!1,loopFlag:!1,volume:.8,init:function(a){this.superInit(),this.loaded=!0,this._load(a)},_load:function(a){var b=a.match(/(.*)$/);return this.src=a,this.path=b[1].replace("sounds/",""),this.volume=.8,this.loaded=!0,this.fire(tm.event.Event("load")),this},play:function(){var a=this;return 0==this.loopFlag?yyjtk.api.playSound(this.path,{volume:this.volume,callback:function(){var b=tm.event.Event("ended");a.fire(b)}}):yyjtk.api.playMusic(this.path,{volume:this.volume,callback:function(){var b=tm.event.Event("ended");a.fire(b)}}),this},stop:function(){return 0==this.loopFlag?yyjtk.api.stopSound():yyjtk.api.stopMusic(),this},setLoop:function(a){return this.loopFlag=a,this},setVolume:function(a){return this.volume=a,this},clone:function(){var a=NativeAudio(this.src);return a}})}}();